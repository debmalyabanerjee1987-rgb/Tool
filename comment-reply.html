<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Simple Comments with Admin Reply</title>
  <style>
    body { font-family: Arial, sans-serif; background: #fff; color:#000; }
    .comment-box, .reply-box {
      border: 1px solid #ccc; padding: 10px; margin: 10px 0; border-radius: 6px;
    }
    .admin-reply {
      margin-left: 20px; padding: 8px; background: #fff3cd; border-left: 3px solid #f0ad4e;
      border-radius: 6px; margin-top: 5px;
    }
    .comment-form { margin-top: 20px; }
    input, textarea { width: 100%; padding: 8px; margin: 5px 0; border-radius: 4px; border: 1px solid #ccc; }
    button { padding: 8px 14px; background: #007bff; border: none; border-radius: 4px; color: white; cursor: pointer; }
    button:hover { background: #0056b3; }
  </style>
</head>
<body>
  <h2>ðŸ’¬ Comments</h2>
  <div id="comments"></div>

  <div class="comment-form">
    <input type="text" id="username" placeholder="Your Name">
    <textarea id="commentText" placeholder="Write a comment..."></textarea>
    <button onclick="addComment()">Post Comment</button>
  </div>

  <script>
    let comments = JSON.parse(localStorage.getItem("comments")) || [];

    function renderComments() {
      const container = document.getElementById("comments");
      container.innerHTML = "";
      comments.forEach((c, index) => {
        let div = document.createElement("div");
        div.className = "comment-box";
        div.innerHTML = `<strong>${c.user}</strong>: ${c.text}`;
        
        // If admin reply exists, show it
        if (c.reply) {
          div.innerHTML += `<div class="admin-reply"><strong>Admin:</strong> ${c.reply}</div>`;
        }

        // Admin reply form (simulate admin mode)
        div.innerHTML += `
          <div class="reply-box">
            <textarea id="reply-${index}" placeholder="Admin reply..."></textarea>
            <button onclick="addReply(${index})">Reply as Admin</button>
          </div>
        `;
        container.appendChild(div);
      });
    }

    function addComment() {
      const user = document.getElementById("username").value.trim() || "Anonymous";
      const text = document.getElementById("commentText").value.trim();
      if (!text) return alert("Please write something!");
      comments.push({ user, text, reply: "" });
      localStorage.setItem("comments", JSON.stringify(comments));
      document.getElementById("commentText").value = "";
      renderComments();
    }

    function addReply(index) {
      const replyText = document.getElementById("reply-" + index).value.trim();
      if (!replyText) return alert("Reply cannot be empty");
      comments[index].reply = replyText;
      localStorage.setItem("comments", JSON.stringify(comments));
      renderComments();
    }

    renderComments();
  </script>
</body>
</html>
